/*
 * jQuery FlexSlider v1.4
 * http://flex.madebymufffin.com
 *
 * Copyright 2011, Tyler Smith
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * TouchWipe gesture credits: http://www.netcu.de/jquery-touchwipe-iphone-ipad-library
 */(function(e){e.fn.extend({flexslider:function(t){function a(e){if(!ANIMATING){ANIMATING=!0;if(t.animation.toLowerCase()=="slide")currentSlide==0&&e==o-1?i.animate({marginLeft:"0px"},t.animationDuration,function(){i.css({marginLeft:-1*o*s.filter(":first").width()+"px"});ANIMATING=!1;currentSlide=e}):currentSlide==o-1&&e==0?i.animate({marginLeft:-1*(o+1)*s.filter(":first").width()+"px"},t.animationDuration,function(){i.css({marginLeft:-1*s.filter(":first").width()+"px"});ANIMATING=!1;currentSlide=e}):i.animate({marginLeft:-1*(e+1)*s.filter(":first").width()+"px"},t.animationDuration,function(){ANIMATING=!1;currentSlide=e});else if(t.animation.toLowerCase()=="show"){s.eq(currentSlide).hide();s.eq(e).show();ANIMATING=!1;currentSlide=e}else{r.css({minHeight:s.eq(currentSlide).height()});s.eq(currentSlide).fadeOut(t.animationDuration,function(){s.eq(e).fadeIn(t.animationDuration,function(){ANIMATING=!1;currentSlide=e});r.css({minHeight:"inherit"})})}}}var n={animation:"fade",slideshow:!0,slideshowSpeed:7e3,animationDuration:500,directionNav:!0,controlNav:!0,keyboardNav:!0,touchSwipe:!0,prevText:"Previous",nextText:"Next",randomize:!1,slideToStart:0,pauseOnAction:!0,pauseOnHover:!1,controlsContainer:"",manualControls:""},t=e.extend(n,t),r=this,i=e(".slides",r),s=e(".slides > li",r),o=s.length;ANIMATING=!1,currentSlide=t.slideToStart;if(t.randomize&&o>1){s.sort(function(){return Math.round(Math.random())-.5});i.empty().append(s)}if(t.animation.toLowerCase()=="slide"&&o>1){r.css({overflow:"hidden"});i.append(s.filter(":first").clone().addClass("clone")).prepend(s.filter(":last").clone().addClass("clone"));i.width((o+2)*r.width()+2e3);var u=e(".slides > li",r);setTimeout(function(){u.width(r.width()).css({"float":"left"}).show()},100);i.css({marginLeft:-1*(currentSlide+1)*r.width()+"px"})}else s.hide().eq(currentSlide).fadeIn(400);if(t.controlNav&&o>1){if(t.manualControls!=""&&e(t.manualControls).length>0)var f=e(t.manualControls);else{var f=e('<ol class="flex-control-nav"></ol>'),l=1;for(var c=0;c<o;c++){f.append("<li><a>"+l+"</a></li>");l++}t.controlsContainer!=""&&e(t.controlsContainer).length>0?e(t.controlsContainer).append(f):r.append(f);f=e(".flex-control-nav li a")}f.eq(currentSlide).addClass("active");f.click(function(n){n.preventDefault();if(e(this).hasClass("active")||ANIMATING)return;f.removeClass("active");e(this).addClass("active");var r=f.index(e(this));a(r);t.pauseOnAction&&clearInterval(h)})}if(t.directionNav&&o>1){t.controlsContainer!=""&&e(t.controlsContainer).length>0?e(t.controlsContainer).append(e('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+t.prevText+'</a></li><li><a class="next" href="#">'+t.nextText+"</a></li></ul>")):r.append(e('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+t.prevText+'</a></li><li><a class="next" href="#">'+t.nextText+"</a></li></ul>"));e(".flex-direction-nav li a").click(function(n){n.preventDefault();if(ANIMATING)return;if(e(this).hasClass("next"))var r=currentSlide==o-1?0:currentSlide+1;else var r=currentSlide==0?o-1:currentSlide-1;if(t.controlNav){f.removeClass("active");f.eq(r).addClass("active")}a(r);t.pauseOnAction&&clearInterval(h)})}t.keyboardNav&&o>1&&e(document).keyup(function(e){if(ANIMATING)return;if(e.keyCode!=39&&e.keyCode!=37)return;if(e.keyCode==39)var n=currentSlide==o-1?0:currentSlide+1;else if(e.keyCode==37)var n=currentSlide==0?o-1:currentSlide-1;if(t.controlNav){f.removeClass("active");f.eq(n).addClass("active")}a(n);t.pauseOnAction&&clearInterval(h)});if(t.slideshow&&o>1){var h;function p(){if(ANIMATING)return;var e=currentSlide==o-1?0:currentSlide+1;if(t.controlNav){f.removeClass("active");f.eq(e).addClass("active")}a(e)}t.pauseOnHover&&r.hover(function(){clearInterval(h)},function(){h=setInterval(p,t.slideshowSpeed)});o>1&&(h=setInterval(p,t.slideshowSpeed))}t.touchSwipe&&"ontouchstart"in document.documentElement&&o>1&&r.each(function(){function r(){this.removeEventListener("touchmove",i);e=null;isMoving=!1}function i(i){if(isMoving){var s=i.touches[0].pageX,u=e-s;if(Math.abs(u)>=n){r();if(u>0)var l=currentSlide==o-1?0:currentSlide+1;else var l=currentSlide==0?o-1:currentSlide-1;if(t.controlNav){f.removeClass("active");f.eq(l).addClass("active")}a(l);t.pauseOnAction&&clearInterval(h)}}}function s(t){if(t.touches.length==1){e=t.touches[0].pageX;isMoving=!0;this.addEventListener("touchmove",i,!1)}}var e,n=20;isMoving=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",s,!1)});if(t.animation.toLowerCase()=="slide"&&o>1){var d;e(window).resize(function(){u.width(r.width());i.width((o+2)*r.width()+2e3);clearTimeout(d);d=setTimeout(function(){a(currentSlide)},300)})}}})})(jQuery);